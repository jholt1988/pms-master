import{r as c,j as a,L as l}from"./react-vendor-Cz9WDxg-.js";import{u as m}from"./index-BHiZdJVs.js";import{P as f}from"./PageHeader-mjJTmpC5.js";import{a as p}from"./apiClient-DATCuIGb.js";import{c as s,a as r}from"./nextui-vendor-BpFfdwSS.js";import"./vendor-BVwjo9X5.js";import"./utils-vendor-9uJw-9S8.js";import"./lucide-icons-D0L7Z31B.js";import"./framer-motion-hFs7l1RU.js";const h=t=>{const e=new Date(t),n=new Date,o=e.getTime()-n.getTime();return Math.ceil(o/(1e3*60*60*24))},v=()=>{const{token:t}=m(),[e,n]=c.useState(null),[o,i]=c.useState(!0);return c.useEffect(()=>{(async()=>{if(!t){i(!1);return}try{const d=await p("/tenant/dashboard",{token:t});n(d)}catch(d){console.error("Error fetching tenant dashboard data:",d)}finally{i(!1)}})()},[t]),o?a.jsx("p",{children:"Loading..."}):e?(e.nextRentPayment&&h(e.nextRentPayment.dueDate),a.jsxs("div",{className:"space-y-6 p-6",children:[a.jsx(f,{title:"Dashboard",subtitle:"Welcome back! Here's an overview of your rental."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.nextRentPayment&&!e.nextRentPayment.isPaid&&a.jsx(l,{to:"/payments",children:a.jsx(s,{className:"border-l-4 border-l-primary",children:a.jsx(r,{className:"p-4"})})}),a.jsx(l,{to:"/maintenance",children:a.jsx(s,{children:a.jsx(r,{className:"p-4"})})}),e.lease&&a.jsx(l,{to:"/my-lease",children:a.jsx(s,{children:a.jsx(r,{className:"p-4"})})}),a.jsx(s,{className:"bg-linear-to-br from-primary-50 to-primary-100",children:a.jsx(r,{className:"p-4"})})]})]})):a.jsx("p",{children:"Could not load dashboard data."})};export{v as TenantDashboard,v as default};
