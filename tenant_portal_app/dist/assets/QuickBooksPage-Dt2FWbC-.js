import{r as t,j as e}from"./react-vendor-Cz9WDxg-.js";import{u as x}from"./index-BHiZdJVs.js";import{a as f}from"./apiClient-DATCuIGb.js";import{c as d,d as p,a as u,b as j,e as k}from"./nextui-vendor-BpFfdwSS.js";import"./vendor-BVwjo9X5.js";import"./utils-vendor-9uJw-9S8.js";import"./lucide-icons-D0L7Z31B.js";import"./framer-motion-hFs7l1RU.js";function A(){const{token:a}=x(),[n,i]=t.useState([]),[h,o]=t.useState(!0),[r,l]=t.useState(null);t.useEffect(()=>{(async()=>{if(!a){o(!1);return}o(!0),l(null);try{const c=await f("/quickbooks/connections",{token:a});i(c.data||[])}catch(c){i([]),l(c.message||"Failed to load QuickBooks connections")}finally{o(!1)}})()},[a]);const m=()=>{window.location.href="/api/quickbooks/auth"};return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"QuickBooks Integration"}),r&&e.jsx("p",{className:"text-danger",children:r}),h?e.jsx("p",{children:"Loading..."}):e.jsxs(d,{children:[e.jsx(p,{children:e.jsx("h2",{className:"text-xl font-semibold",children:"Your Connections"})}),e.jsx(u,{children:n.length===0?e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"mb-4",children:"You have no active QuickBooks connections."}),e.jsx(j,{color:"primary",onClick:m,children:"Connect to QuickBooks"})]}):e.jsx("div",{className:"space-y-4",children:n.map(s=>e.jsx(d,{children:e.jsx(u,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold",children:["Company ID: ",s.companyId]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Connected on ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsx(k,{color:s.isActive?"success":"danger",children:s.isActive?"Active":"Inactive"})]})})},s.id))})})]})]})}export{A as default};
